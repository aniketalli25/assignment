{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nfunction UserProfileComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵtext(1, \" Uploaded \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserProfileComponent_ng_template_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵtext(1, \"Upload Image\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserProfileComponent_div_61_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵtext(1, \"\\u00A0 First name is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserProfileComponent_div_61_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵtext(1, \"First name must contain only alphabetic characters and should not exceed 20 characters.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserProfileComponent_div_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UserProfileComponent_div_61_div_1_Template, 2, 0, \"div\", 46);\n    i0.ɵɵtemplate(2, UserProfileComponent_div_61_div_2_Template, 2, 0, \"div\", 46);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r3.profileForm.get(\"firstName\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r3.profileForm.get(\"firstName\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"pattern\"]);\n  }\n}\nfunction UserProfileComponent_span_70_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 48);\n    i0.ɵɵlistener(\"click\", function UserProfileComponent_span_70_Template_span_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const tag_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.removeInterest(tag_r9));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3, \"\\u00D7\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const tag_r9 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", tag_r9, \" \");\n  }\n}\nfunction UserProfileComponent_div_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵelement(1, \"input\", 49)(2, \"input\", 50);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserProfileComponent_div_73_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵelement(1, \"input\", 51)(2, \"input\", 52);\n    i0.ɵɵelementEnd();\n  }\n}\nexport class UserProfileComponent {\n  constructor(http, route, formBuilder, router) {\n    this.http = http;\n    this.route = route;\n    this.formBuilder = formBuilder;\n    this.router = router;\n  }\n  ngOnInit() {\n    // Initialize profileForm\n    this.profileForm = this.formBuilder.group({\n      firstName: [''],\n      lastName: [''],\n      addressType: [''],\n      interest: [''],\n      address1: [''],\n      address2: [''],\n      companyAddress1: [''],\n      companyAddress2: [''],\n      age: [''],\n      profileImage: ['']\n    });\n    this.route.paramMap.subscribe(params => {\n      if (window.history.state.formData) {\n        this.formData = window.history.state.formData;\n        // Populate form fields with data\n        this.populateForm(this.formData);\n      }\n    });\n  }\n  populateForm(data) {\n    this.profileForm.patchValue({\n      firstName: data.firstName,\n      lastName: data.lastName,\n      addressType: data.addressType,\n      interest: data.interest,\n      address1: data.address1,\n      address2: data.address2,\n      companyAddress1: data.companyAddress1,\n      companyAddress2: data.companyAddress2,\n      age: data.age,\n      profileImage: data.profileImage\n    });\n  }\n  editPhoto() {\n    // Implement logic to handle photo editing\n    console.log('Editing photo...');\n  }\n  editProfile(id) {\n    this.http.get(`http://localhost:3000/profiles/${id}`).subscribe(res => {\n      this.populateForm(res);\n    });\n  }\n  submitForm() {\n    if (this.profileForm.valid) {\n      // Send HTTP PUT request to update profile data\n      this.http.put(`http://localhost:3000/profiles/${this.formData.id}`, this.profileForm.value).subscribe(res => {\n        // Upon successful update, show alert and navigate back to profile page with updated data\n        alert('Data updated successfully');\n        this.router.navigate(['/profile'], {\n          state: {\n            formData: this.profileForm.value\n          }\n        });\n      }, error => {\n        // Handle error if the server responds with an error\n        console.error('Error updating profile:', error);\n        // You could show an error message to the user here\n      });\n    }\n  }\n\n  handleFileInput(event) {\n    // File handling logic\n  }\n  removeInterest(tag) {\n    // Remove interest logic here\n  }\n  static #_ = this.ɵfac = function UserProfileComponent_Factory(t) {\n    return new (t || UserProfileComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UserProfileComponent,\n    selectors: [[\"app-user-profile\"]],\n    decls: 83,\n    vars: 15,\n    consts: [[1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"pt-5\", \"text-center\"], [1, \"col-md-4\"], [\"src\", \"https://img.freepik.com/premium-vector/user-profile-icon-flat-style-member-avatar-vector-illustration-isolated-background-human-permission-sign-business-concept_157943-15752.jpg\", \"alt\", \"\", 1, \"float-right\", 2, \"width\", \"200px\"], [1, \"col-md-8\", \"px-4\"], [1, \"row\", \"mt-5\"], [1, \"d-flex\"], [1, \"\"], [1, \"px-5\", \"mt-1\"], [1, \"mt-2\"], [1, \"float-right\", \"user-profile-btn\"], [1, \"mx-2\", \"px-3\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#exampleModal\", 1, \"register-btn\", \"btn\", \"py-1\", \"btn-primary\", \"text-center\", 3, \"click\"], [\"id\", \"exampleModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\", \"mt-5\", \"pt-5\"], [1, \"modal-dialog\", \"modal-lg\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [1, \"modal-body\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"col-md-3\"], [1, \"row\", \"mx-2\"], [\"alt\", \"Profile Picture\", \"width\", \"80px\", 1, \"mx-4\", 3, \"src\"], [1, \"file-container\"], [\"for\", \"file\", 1, \"file-label\"], [\"class\", \"upload-text w-100\", 4, \"ngIf\", \"ngIfElse\"], [\"defaultText\", \"\"], [\"type\", \"file\", \"id\", \"file\", 1, \"file-input\", 3, \"change\"], [1, \"col-md-9\"], [1, \"d-flex\", \"justify-content-between\"], [\"type\", \"text\", \"placeholder\", \"First Name\", \"formControlName\", \"firstName\", 1, \"form-control\", \"mx-2\"], [\"type\", \"text\", \"placeholder\", \"Last Name\", \"formControlName\", \"lastName\", 1, \"form-control\"], [4, \"ngIf\"], [1, \"mt-2\", \"d-flex\", \"justify-content-between\"], [\"id\", \"addressType\", \"formControlName\", \"addressType\", 1, \"form-select\", \"form-control\", \"mx-2\"], [\"value\", \"home\"], [\"value\", \"company\"], [\"type\", \"text\", \"id\", \"interestField\", \"placeholder\", \"Enter your interests\", \"formControlName\", \"interest\", 1, \"form-control\"], [\"class\", \"badge bg-primary me-1 mb-1\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"d-flex justify-content-between\", 4, \"ngIf\"], [\"for\", \"ageSlide\", 1, \"mx-2\"], [\"type\", \"range\", \"id\", \"ageSlider\", \"min\", \"1\", \"max\", \"100\", \"formControlName\", \"age\", 1, \"form-range\", \"mx-2\"], [\"type\", \"submit\", 3, \"click\"], [1, \"upload-text\", \"w-100\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"text-danger\"], [1, \"badge\", \"bg-primary\", \"me-1\", \"mb-1\", 3, \"click\"], [\"type\", \"text\", \"placeholder\", \"Address 1\", \"formControlName\", \"address1\", 1, \"form-control\", \"mx-2\"], [\"type\", \"text\", \"placeholder\", \"Address 2\", \"formControlName\", \"address2\", 1, \"form-control\"], [\"type\", \"text\", \"placeholder\", \"Company Address 1\", \"formControlName\", \"companyAddress1\", 1, \"form-control\", \"mx-2\"], [\"type\", \"text\", \"placeholder\", \"Company Address 2\", \"formControlName\", \"companyAddress2\", 1, \"form-control\"]],\n    template: function UserProfileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h3\", 3);\n        i0.ɵɵtext(4, \"Profile\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelement(6, \"img\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 2)(10, \"div\", 8)(11, \"h4\", 9)(12, \"b\");\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"small\", 10)(15, \"b\");\n        i0.ɵɵtext(16);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(17, \"div\")(18, \"address\", 9)(19, \"b\");\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(21, \"div\")(22, \"b\");\n        i0.ɵɵtext(23);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"div\", 11)(25, \"div\")(26, \"b\");\n        i0.ɵɵtext(27, \"About\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"p\");\n        i0.ɵɵtext(29);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(30, \"div\", 2)(31, \"div\", 1)(32, \"div\", 4)(33, \"div\", 12)(34, \"button\", 13);\n        i0.ɵɵtext(35, \"Edit photo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"div\", 14);\n        i0.ɵɵlistener(\"click\", function UserProfileComponent_Template_div_click_36_listener() {\n          return ctx.populateForm(ctx.formData);\n        });\n        i0.ɵɵtext(37, \" Edit Profile \");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(38, \"div\", 15)(39, \"div\", 16)(40, \"div\", 17)(41, \"div\", 18)(42, \"h5\", 19);\n        i0.ɵɵtext(43, \"Register\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(44, \"div\", 20)(45, \"form\", 21);\n        i0.ɵɵlistener(\"ngSubmit\", function UserProfileComponent_Template_form_ngSubmit_45_listener() {\n          return ctx.submitForm();\n        });\n        i0.ɵɵelementStart(46, \"div\", 1)(47, \"div\", 22)(48, \"div\", 23);\n        i0.ɵɵelement(49, \"img\", 24);\n        i0.ɵɵelementStart(50, \"div\", 25)(51, \"label\", 26);\n        i0.ɵɵtemplate(52, UserProfileComponent_div_52_Template, 2, 0, \"div\", 27);\n        i0.ɵɵtemplate(53, UserProfileComponent_ng_template_53_Template, 2, 0, \"ng-template\", null, 28, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementStart(55, \"input\", 29);\n        i0.ɵɵlistener(\"change\", function UserProfileComponent_Template_input_change_55_listener($event) {\n          return ctx.handleFileInput($event);\n        });\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(56, \"div\", 30)(57, \"div\", 31);\n        i0.ɵɵelement(58, \"input\", 32)(59, \"br\")(60, \"input\", 33);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(61, UserProfileComponent_div_61_Template, 3, 2, \"div\", 34);\n        i0.ɵɵelementStart(62, \"div\", 35)(63, \"select\", 36)(64, \"option\", 37);\n        i0.ɵɵtext(65, \"Home\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(66, \"option\", 38);\n        i0.ɵɵtext(67, \"Company\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(68, \"input\", 39);\n        i0.ɵɵelementStart(69, \"div\", 11);\n        i0.ɵɵtemplate(70, UserProfileComponent_span_70_Template, 4, 1, \"span\", 40);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(71, \"div\", 11);\n        i0.ɵɵtemplate(72, UserProfileComponent_div_72_Template, 3, 0, \"div\", 41);\n        i0.ɵɵtemplate(73, UserProfileComponent_div_73_Template, 3, 0, \"div\", 41);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(74, \"div\")(75, \"label\", 42);\n        i0.ɵɵtext(76, \"Age:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(77, \"input\", 43);\n        i0.ɵɵelementStart(78, \"span\");\n        i0.ɵɵtext(79);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(80, \"div\")(81, \"button\", 44);\n        i0.ɵɵlistener(\"click\", function UserProfileComponent_Template_button_click_81_listener() {\n          return ctx.submitForm();\n        });\n        i0.ɵɵtext(82, \"Update\");\n        i0.ɵɵelementEnd()()()()()()()()();\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(54);\n        let tmp_6_0;\n        let tmp_7_0;\n        let tmp_9_0;\n        let tmp_10_0;\n        let tmp_11_0;\n        let tmp_12_0;\n        let tmp_13_0;\n        i0.ɵɵadvance(13);\n        i0.ɵɵtextInterpolate2(\"\", ctx.formData.firstName, \" \", ctx.formData.lastName, \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", ctx.formData.age, \" Years\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.formData.address);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" My Interest : \", ctx.formData.interest, \"\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.formData.about);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"formGroup\", ctx.profileForm);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"src\", (tmp_6_0 = ctx.profileForm.get(\"profileImage\")) == null ? null : tmp_6_0.value, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", (tmp_7_0 = ctx.profileForm.get(\"profileImage\")) == null ? null : tmp_7_0.value)(\"ngIfElse\", _r1);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx.profileForm.get(\"firstName\")) == null ? null : tmp_9_0.errors) && (((tmp_9_0 = ctx.profileForm.get(\"firstName\")) == null ? null : tmp_9_0.dirty) || ((tmp_9_0 = ctx.profileForm.get(\"firstName\")) == null ? null : tmp_9_0.touched)));\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngForOf\", (tmp_10_0 = ctx.profileForm.get(\"interests\")) == null ? null : tmp_10_0.value);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_11_0 = ctx.profileForm.get(\"addressType\")) == null ? null : tmp_11_0.value) === \"home\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_12_0 = ctx.profileForm.get(\"addressType\")) == null ? null : tmp_12_0.value) === \"company\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate((tmp_13_0 = ctx.profileForm.get(\"age\")) == null ? null : tmp_13_0.value);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.RangeValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n    styles: [\".user-profile-btn[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{\\r\\n  background-color: white;\\r\\n  border-radius: 4px;\\r\\n}\\r\\n\\r\\n  \\r\\n.modal-backdrop.show[_ngcontent-%COMP%] {\\r\\n  opacity:0 !important;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlci1wcm9maWxlL3VzZXItcHJvZmlsZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTtFQUNFLHVCQUF1QjtFQUN2QixrQkFBa0I7QUFDcEI7QUFDQSwyQkFBMkI7RUFDekI7R0FDQztBQUNIO0VBQ0Usb0JBQW9CO0FBQ3RCIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi51c2VyLXByb2ZpbGUtYnRuICwgYnV0dG9ue1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcclxufVxyXG4vKiAubW9kYWwtYmFja2Ryb3Auc2hvdyB7ICovXHJcbiAgLyogb3BhY2l0eTogIWltcG9ydGFudDtcclxufSAqL1xyXG4ubW9kYWwtYmFja2Ryb3Auc2hvdyB7XHJcbiAgb3BhY2l0eTowICFpbXBvcnRhbnQ7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["i0","UserProfileComponent","constructor","http","route","formBuilder","router","ngOnInit","profileForm","group","firstName","lastName","addressType","interest","address1","address2","companyAddress1","companyAddress2","age","profileImage","paramMap","subscribe","params","window","history","state","formData","populateForm","data","patchValue","editPhoto","console","log","editProfile","id","get","res","submitForm","valid","put","value","alert","navigate","error","handleFileInput","event","removeInterest","tag","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Avani\\Desktop\\aniket\\Assignment-main\\src\\app\\user-profile\\user-profile.component.html","C:\\Users\\Avani\\Desktop\\aniket\\Assignment-main\\src\\app\\user-profile\\user-profile.component.ts"],"sourcesContent":["\r\n\r\n <div class=\"container-fluid\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <h3 class=\"pt-5  text-center\">Profile</h3>\r\n    </div>\r\n    <div class=\"col-md-4\">\r\n      <img class=\"float-right\" src=\"https://img.freepik.com/premium-vector/user-profile-icon-flat-style-member-avatar-vector-illustration-isolated-background-human-permission-sign-business-concept_157943-15752.jpg\" style=\"width: 200px;\" alt=\"\">\r\n\r\n    </div>\r\n    <div class=\"col-md-8 px-4\">\r\n      <div class=\"row mt-5\">\r\n        <div class=\"col-md-12\">\r\n          <div class=\"d-flex\">\r\n          <h4 class=\"\"><b>{{ formData.firstName }} {{ formData.lastName }}</b></h4>\r\n            <small class=\"px-5 mt-1\"><b>{{ formData.age }} Years</b></small>\r\n          </div>\r\n          <div>\r\n          <address class=\"\"><b>{{ formData.address }}</b></address>\r\n\r\n          </div>\r\n          <div>\r\n           <b> My Interest : {{ formData.interest }}</b>\r\n          </div>\r\n          <div class=\"mt-2\">\r\n            <div> <b>About</b></div>\r\n            <p>{{ formData.about }}</p>\r\n            </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-12\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-4 \">\r\n         <div class=\"float-right user-profile-btn \">\r\n          <button class=\"mx-2 px-3\">Edit photo</button>\r\n          <div\r\n          class=\"register-btn btn py-1 btn-primary text-center\"\r\n          data-bs-toggle=\"modal\"\r\n          data-bs-target=\"#exampleModal\"\r\n       (click)=\"populateForm(this.formData)\" >\r\n          Edit Profile\r\n        </div>\r\n         </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n </div>\r\n\r\n\r\n\r\n\r\n\r\n <div\r\n  class=\"modal fade mt-5 pt-5\"\r\n  id=\"exampleModal\"\r\n  tabindex=\"-1\"\r\n  aria-labelledby=\"exampleModalLabel\"\r\n  aria-hidden=\"true\"\r\n>\r\n  <div class=\"modal-dialog modal-lg\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Register</h5>\r\n\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <form [formGroup]=\"profileForm\" (ngSubmit)=\"submitForm()\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-3\">\r\n              <div class=\"row mx-2\">\r\n                <img [src]=\"profileForm.get('profileImage')?.value\" alt=\"Profile Picture\" class=\"mx-4\" width=\"80px\">\r\n                <div class=\"file-container\">\r\n                  <label for=\"file\" class=\"file-label\">\r\n                    <div class=\"upload-text w-100\" *ngIf=\"profileForm.get('profileImage')?.value; else defaultText\">\r\n                      Uploaded\r\n                    </div>\r\n                    <ng-template #defaultText>\r\n                      <div class=\"upload-text w-100\">Upload Image</div>\r\n                    </ng-template>\r\n                    <input type=\"file\" id=\"file\" class=\"file-input\" (change)=\"handleFileInput($event)\">\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-md-9\">\r\n              <div class=\"d-flex justify-content-between\">\r\n                <input type=\"text\" class=\"form-control mx-2\" placeholder=\"First Name\" formControlName=\"firstName\"><br>\r\n\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Last Name\" formControlName=\"lastName\">\r\n\r\n              </div>\r\n              <div\r\n              *ngIf=\"profileForm.get('firstName')?.errors && (profileForm.get('firstName')?.dirty || profileForm.get('firstName')?.touched)\">\r\n              <div *ngIf=\"profileForm.get('firstName')?.errors?.['required']\" class=\"text-danger\">&nbsp; First name is required.\r\n              </div>\r\n              <div *ngIf=\"profileForm.get('firstName')?.errors?.['pattern']\" class=\"text-danger\">First name must contain\r\n                only alphabetic characters and should not exceed 20 characters.</div>\r\n            </div>\r\n              <div class=\"mt-2 d-flex justify-content-between\">\r\n                <select class=\"form-select form-control mx-2\" id=\"addressType\" formControlName=\"addressType\">\r\n                  <option value=\"home\">Home</option>\r\n                  <option value=\"company\">Company</option>\r\n                </select>\r\n                <input type=\"text\" class=\"form-control\" id=\"interestField\" placeholder=\"Enter your interests\"\r\n                  formControlName=\"interest\">\r\n                <div class=\"mt-2\">\r\n                  <span class=\"badge bg-primary me-1 mb-1\" *ngFor=\"let tag of profileForm.get('interests')?.value\"\r\n                    (click)=\"removeInterest(tag)\">{{ tag }} <span>&times;</span></span>\r\n                </div>\r\n              </div>\r\n              <div class=\"mt-2\">\r\n                <div class=\"d-flex justify-content-between\" *ngIf=\"profileForm.get('addressType')?.value === 'home'\">\r\n                  <input type=\"text\" class=\"form-control mx-2\" placeholder=\"Address 1\" formControlName=\"address1\">\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Address 2\" formControlName=\"address2\">\r\n                </div>\r\n                <div class=\"d-flex justify-content-between\" *ngIf=\"profileForm.get('addressType')?.value === 'company'\">\r\n                  <input type=\"text\" class=\"form-control mx-2\" placeholder=\"Company Address 1\" formControlName=\"companyAddress1\">\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Company Address 2\" formControlName=\"companyAddress2\">\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label for=\"ageSlide\" class=\"mx-2\">Age:</label>\r\n                <input type=\"range\" class=\"form-range mx-2\" id=\"ageSlider\" min=\"1\" max=\"100\" formControlName=\"age\">\r\n                <span>{{ profileForm.get('age')?.value }}</span>\r\n              </div>\r\n              <div>\r\n                <button type=\"submit\"(click)=\"submitForm()\">Update</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-user-profile',\r\n  templateUrl: './user-profile.component.html',\r\n  styleUrls: ['./user-profile.component.css']\r\n})\r\nexport class UserProfileComponent implements OnInit {\r\n  constructor(\r\n    private http: HttpClient,\r\n    private route: ActivatedRoute,\r\n    private formBuilder: FormBuilder,\r\n    public router: Router\r\n  ) {}\r\n\r\n  formData: any;\r\n  profileForm!: FormGroup;\r\n\r\n  ngOnInit() {\r\n    // Initialize profileForm\r\n    this.profileForm = this.formBuilder.group({\r\n      firstName: [''],\r\n      lastName: [''],\r\n      addressType: [''],\r\n      interest: [''],\r\n      address1: [''],\r\n      address2: [''],\r\n      companyAddress1: [''],\r\n      companyAddress2: [''],\r\n      age: [''],\r\n      profileImage: ['']\r\n    });\r\n\r\n    this.route.paramMap.subscribe(params => {\r\n      if (window.history.state.formData) {\r\n        this.formData = window.history.state.formData;\r\n        // Populate form fields with data\r\n        this.populateForm(this.formData);\r\n      }\r\n    });\r\n  }\r\n\r\n  populateForm(data: any) {\r\n    this.profileForm.patchValue({\r\n      firstName: data.firstName,\r\n      lastName: data.lastName,\r\n      addressType: data.addressType,\r\n      interest: data.interest,\r\n      address1: data.address1,\r\n      address2: data.address2,\r\n      companyAddress1: data.companyAddress1,\r\n      companyAddress2: data.companyAddress2,\r\n      age: data.age,\r\n      profileImage: data.profileImage\r\n    });\r\n  }\r\n\r\n  editPhoto() {\r\n    // Implement logic to handle photo editing\r\n    console.log('Editing photo...');\r\n  }\r\n\r\n  editProfile(id: any) {\r\n    this.http.get(`http://localhost:3000/profiles/${id}`).subscribe((res: any) => {\r\n      this.populateForm(res);\r\n    });\r\n  }\r\n\r\n  submitForm() {\r\n    if (this.profileForm.valid) {\r\n      // Send HTTP PUT request to update profile data\r\n      this.http.put(`http://localhost:3000/profiles/${this.formData.id}`, this.profileForm.value).subscribe(\r\n        (res) => {\r\n          // Upon successful update, show alert and navigate back to profile page with updated data\r\n          alert('Data updated successfully');\r\n          this.router.navigate(['/profile'], { state: { formData: this.profileForm.value } });\r\n        },\r\n        (error) => {\r\n          // Handle error if the server responds with an error\r\n          console.error('Error updating profile:', error);\r\n          // You could show an error message to the user here\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  handleFileInput(event: any) {\r\n    // File handling logic\r\n  }\r\n\r\n  removeInterest(tag: string) {\r\n    // Remove interest logic here\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}